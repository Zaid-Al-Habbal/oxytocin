{% extends 'admin/base.html' %}

{% load i18n unfold  %}

{% block breadcrumbs %}{% endblock %}

{% block title %}
    {% if subtitle %}
        {{ subtitle }} |
    {% endif %}

    {{ title }} | {{ site_title|default:_('Django site admin') }}
{% endblock %}

{% block branding %}
    {% include "unfold/helpers/site_branding.html" %}
{% endblock %}

{% block content %}
    {% component "unfold/components/container.html" %}
        <div class="flex flex-col gap-6">
            <div class="flex flex-col gap-4">
                {% component "unfold/components/navigation.html" with items=navigation %}
                {% endcomponent %}

                {% component "unfold/components/navigation.html" with class="ml-auto" items=filters %}
                {% endcomponent %}
            </div>
            <div class="bg-white block border border-base-200 flex flex-col grow overflow-hidden p-6 relative rounded-default shadow-xs dark:bg-base-900 dark:border-base-800">
                {% component "unfold/components/chart/cohort.html" with component_class="AppointmentsCohortComponent" %}
                {% endcomponent %}
            </div>
            <div class="flex flex-row gap-6 grow w-full">
                <div class="flex-1 min-w-0 relative w-full bg-white block border border-base-200 p-6 rounded-default shadow-xs overflow-hidden dark:bg-base-900 dark:border-base-800">
                    <p class="leading-relaxed mb-0 text-sm">
                        {% translate "Current year doctors" %}
                    </p>
                    <div class="font-semibold text-2xl text-font-important-light tracking-tight dark:text-font-important-dark mb-8">
                        {{ doctors_count }}
                    </div>
                    {% component "unfold/components/chart/line.html" with component_class="DoctorsLineComponent" %}
                    {% endcomponent %}
                </div>
                <div class="flex-1 min-w-0 relative w-full bg-white block border border-base-200 p-6 rounded-default shadow-xs overflow-hidden dark:bg-base-900 dark:border-base-800">
                    <p class="leading-relaxed mb-0 text-sm">
                        {% translate "Current year assistants" %}
                    </p>
                    <div class="font-semibold text-2xl text-font-important-light tracking-tight dark:text-font-important-dark mb-8">
                        {{ assistants_count }}
                    </div>
                    {% component "unfold/components/chart/line.html" with component_class="AssistantsLineComponent" %}
                    {% endcomponent %}
                </div>
            </div>
            <div class="flex flex-row justify-center grow w-full">
                <div class="relative w-1/2 bg-white block border border-base-200 p-6 rounded-default shadow-xs dark:bg-base-900 dark:border-base-800">
                    <p class="leading-relaxed mb-0 text-sm">
                        {% translate "Current year patients" %}
                    </p>
                    <div class="font-semibold text-2xl text-font-important-light tracking-tight dark:text-font-important-dark mb-8">
                        {{ patients_count }}
                    </div>
                    {% component "unfold/components/chart/line.html" with component_class="PatientsLineComponent" %}
                    {% endcomponent %}
                </div>
            </div>
        </div>
    {% endcomponent %}
{% endblock %}